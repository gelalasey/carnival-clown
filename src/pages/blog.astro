---
import BlogLayout from "../layouts/BlogLayout.astro";
import BlogPost from "../components/BlogPost.astro";
import { getCollection } from "astro:content";
import MyTags from "../components/MyTags.astro";

const allPosts = await getCollection("blog");

const title = "park newsletter";
const subtitle = "blog posts";
---

<BlogLayout title={title} subtitle={subtitle}>
    <div slot="main-text">
        <p>
            ignore the html, this is not a blog. this is the <b
                >park newsletter</b
            > and my main goal here is to create a micro collection of all my writings,
            reviews, recaps, and recommendations. each area of the park represents
            a different interest of mine. If you get lost, don't worry. Your friendly
            neighborhood theme park owner has you covered
        </p>
        <ul>
            <li>
                <a href="/tags/anime">Theatre</a>: recaps and reviews on anime
                i'm watching
            </li>
            <li>
                <a href="/tags/music">concert stage</a>: music and idol groups
                of various genres
            </li>
            <li>
                <a href="/tags/games">midway</a> video game logs and reviews, horror
                and otome censored
            </li>
            <li>
                <a href="tags/art">carousel</a>: art projects, i mostly like to
                build miniatures and write gay song lyrics but who knows what
                else adhd will lead me into
            </li>
        </ul>
        <p>
            <mark
                >hit me up in <a
                    href="http://users3.smartgb.com/g/g.php?a=s&i=g36-39145-c7"
                    >the souvenir shop!</a
                ></mark
            >
        </p>
    </div>
    <div slot="full">
        <h1>Most Recent</h1>
        <div class="posts-grid">
            {
                allPosts.map((post) => (
                    <BlogPost
                        url={`/posts/${post.slug}/`}
                        title={post.data.title}
                        image={post.data.image}
                    />
                ))
            }
        </div>
    </div>
    <div slot="tags">
        <h1>All Post Tags</h1>
        <br>
        <MyTags />
        <br>
    </div>
</BlogLayout>

<style>
    .posts-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
        gap: 0.5rem;
        margin-top: 1rem;
    }
</style>
